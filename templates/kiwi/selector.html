{% load staticfiles %}
<!DOCTYPE html>
<html>
  <head>
    <title>Skymesh</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="{% static 'bootstrap/css/bootstrap.css' %}" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
      <script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="coohqjii958p7p4"></script>

    </head>
  <body>
  
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Skymesh</a>
          <a class="navbar-brand" href="#">Hi, User Name!</a>
		  <button type="submit" class="btn btn-success">Add A Cloud</button>

        </div>
        <div class="navbar-collapse collapse">
          <form class="navbar-form navbar-right" role="form">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
            <button type="submit" class="btn btn-success">Logout</button>
          </form>
        </div><!--/.navbar-collapse -->
      </div>
    </div>
    <div id="container" style="margin-top: 100px">
        <!--form action="/selector/google/">
            <button class="btn btn-lg btn-primary btn-block" type="submit">Google</button>
        </form>
        <form action="/selector/dropbox/">
            <button class="btn btn-lg btn-primary btn-block" type="submit">Dropbox</button>
        </form-->
    </div>
<table id="showlist">
    <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Size</td>
    </tr>
</table>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
  </body>
</html>

<script type="text/javascript">
            var options = {

    // Required. Called when a user selects an item in the Chooser.
    success: function(files) {
        //alert("Here's the file link: " + files[0].link)
        var table = document.getElementById("showlist");
        for(var i=0; i<files.length; i++){
            var row = table.insertRow(1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
           // var img = document.createElement('img');
            cell1.innerHTML="<img src="+ files[i].icon+">";
            cell2.innerHTML="<a href="+files[i].link+" target='_blank'>"+files[i].name+"</a>";
            cell3.innerHTML=files[i].bytes;
        }
    },

    // Optional. Called when the user closes the dialog without selecting a file
    // and does not include any parameters.
    cancel: function() {

    },

    // Optional. "preview" (default) is a preview link to the document for sharing,
    // "direct" is an expiring link to download the contents of the file. For more
    // information about link types, see Link types below.
    linkType: "preview", // or "direct"

    // Optional. A value of false (default) limits selection to a single file, while
    // true enables multiple file selection.
    multiselect: true, // or true

    // Optional. This is a list of file extensions. If specified, the user will
    // only be able to select files with these extensions. You may also specify
    // file types, such as "video" or "images" in the list. For more information,
    // see File types below. By default, all extensions are allowed.
    extensions: ['.pdf', '.doc', '.docx']
};
            var button = Dropbox.createChooseButton(options);
            document.getElementById("container").appendChild(button);
        </script>